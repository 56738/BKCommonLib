package red.mohist.bukkit.nms.utils;

#resolver com.bergerkiller.bukkit.common.server.MohistServer.TEMPLATE_RESOLVER

optional class RemapUtils {
    public static String mapClassName(String className) {
        if (className.startsWith("net.minecraft.server.")) {
            red.mohist.bukkit.nms.model.ClassMapping mapping;
            mapping = (red.mohist.bukkit.nms.model.ClassMapping) RemapUtils.jarMapping.byNMSName.get(className);
            if (mapping != null) {
                return mapping.getMcpName();
            } else {
                // Mohist BUGFIX!!!
                // If we do not do this, it will suffer a NPE in the PluginClassLoader
                return "missing.type." + className;
            }
        }
        return className;
    }

    public static String inverseMapClassName(Class<?> type) {
        // Because we generate this, the remapper of Mohist is unable to wrap it
        // As a result, getName() is now correct! Yay!
        return type.getName();
    }

    public static transient String inverseMapMethodName(Class<?> type, String name, Class<?>[] parameterTypes);

    public static String inverseMapFieldName(Class<?> type, String fieldName);
}

#resolver com.bergerkiller.bukkit.common.Common.TEMPLATE_RESOLVER